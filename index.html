<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lee Hee Jun Birthday Cafe</title>
  <style>
    body { margin:0; font-family:Pretendard, Arial, sans-serif; background:#fff; color:#000; }
    a { color:inherit; text-decoration:none; }

    /* HEADER */
    header { position:sticky; top:0; z-index:10; background:#020617; display:flex; justify-content:space-between; align-items:center; padding:16px 24px; }
    .logo { color:#fff; font-weight:700; font-size:20px; }
    nav { display:flex; gap:24px; }
    nav a { color:#fff; font-weight:600; }
    nav a:hover { color:#60a5fa; }

    /* BOOKING ì„¹ì…˜ ë ˆì´ì•„ì›ƒ (ë” ë„“ê³  ì‹œì›í•˜ê²Œ) */
section#booking {
      padding-top: 120px; /* ìƒë‹¨ë°” ì•„ë˜ ì—¬ë°± */
      max-width: 1200px;
      margin: 0 auto;
    }

    .booking-wrap {
      display: flex;
      gap: 60px; /* í¬ìŠ¤í„°ì™€ ì •ë³´ ì‚¬ì´ ê°„ê²© í™•ëŒ€ */
      align-items: flex-start;
      justify-content: center;
      max-width: 1100px; /* ì „ì²´ ë„ˆë¹„ë¥¼ ë” í™•ì¥ */
      margin: 0 auto;
    }

    /* 1êµ¬ì—­: ì™¼ìª½ í¬ìŠ¤í„° (ì‚´ì§ ë‘¥ê·¼ ì§ì‚¬ê°í˜•) */
    .poster {
      flex: 0 0 380px; /* í¬ìŠ¤í„° í¬ê¸° ì•½ê°„ í™•ëŒ€ */
    }
    .poster img {
      width: 100%; height: 100%; object-fit: cover;
      border-radius: 4px; /* ì•„ì£¼ ì‚´ì§ë§Œ ê¹ìŒ */
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      display: block;
    }

    /* ì˜¤ë¥¸ìª½ ìƒì„¸ êµ¬ì—­ */
    .booking-details {
      flex: 1; display: flex;
      flex-direction: column;
      justify-content: space-between; /* ìœ„ì•„ë˜ë¡œ ê½‰ ì±„ì›€ */
    }

    /* 2êµ¬ì—­: ìƒë‹¨ ì œëª© (ìê°„ ì¡°ì •) */
    .info-header {
      padding-bottom: 15px;
      border-bottom: 2px solid #222;
      margin-bottom: 20px;
    }

    .badge {
      display: inline-block;
      padding: 4px 12px;
      background: #24426b;
      color: #fff;
      font-size: 11px;
      font-weight: 700;
      margin-bottom: 12px;
      border-radius: 4px; /* ë°°ì§€ë„ ì‚´ì§ ë‘¥ê¸€ê²Œ */
      letter-spacing: 0.5px;
    }
    .info-header h3 {
      margin: 0;
      font-size: 28px;
      letter-spacing: 1px; /* #0629 ìê°„ ë„“í˜ */
      color: #000;
      font-weight: 800;
    }

    /* í•˜ë‹¨: ì •ë³´ì™€ ë‹¬ë ¥ ë¶„ë¦¬ */
    .info-body {
      display: flex;
      gap: 30px;
      flex: 1;
    }

    /* 3êµ¬ì—­: ì •ë³´ í…ìŠ¤íŠ¸ */
    .booking-info {
      flex: 1;
    }
    .booking-info p {
      margin: 18px 0;
      font-size: 16px;
      border-bottom: 1px solid #f0f0f0;
      padding-bottom: 12px;
    }
    .booking-info b {
      width: 90px;
      display: inline-block;
      color: #666;
    }

    /* 4êµ¬ì—­: ë‹¬ë ¥ êµ¬ì—­ */
    .calendar-side {
      flex: 0 0 px;
      background: #f8f9fa;
      padding: 24px;
      border-radius: 12px;
    }
    .calendar-box h4 {
      margin: 0 0 20px 0;
      font-size: 18px;
      text-align: center;
      font-weight: 700;
    }
    .calendar-box table {
      width: 100%;
      background: #fff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: inset 0 0 0 1px #eee;
    }
    .calendar-box th { padding-bottom: 12px; font-size: 13px; color: #999; }
    .calendar-box td {
      width: 38px;
      height: 38px;
      font-size: 15px;
      text-align: center;
    }
    /* ê¸°ë³¸ ê°•ì¡° ë‚ ì§œ (ì—°í•œ íŒŒë‘) */
.calendar-box td.active {
  background: #cbd5e1 !important; /* ì—°í•œ ë¸”ë£¨ ê·¸ë ˆì´ */
  color: #1e293b;
  font-weight: bold;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.2s;
}

/* ì„ íƒëœ ë‚ ì§œ: ë°°ê²½ì€ ê·¸ëŒ€ë¡œ ë‘ê³  ì§„í•œ ë‚¨ìƒ‰ í…Œë‘ë¦¬ë§Œ ì¶”ê°€ */
.calendar-box td.selected-day {
  background: #cbd5e1 !important; /* ì›ë˜ì˜ ì—°í•œ í•˜ëŠ˜ìƒ‰ ìœ ì§€ */
  color: #1e293b !important;      /* ê¸€ììƒ‰ ìœ ì§€ */
  box-shadow: inset 0 0 0 2px #24426b; /* ì•ˆìª½ìœ¼ë¡œ ì§„í•œ ë‚¨ìƒ‰ í…Œë‘ë¦¬ 2px */
  border-radius: 50%;
}

    /* ì˜ˆë§¤ ë²„íŠ¼ ì´ˆê¸° ìƒíƒœ (ë¹„í™œì„±í™” ëŠë‚Œ) */
.reserve-btn {
  width: 100%;
  margin-top: 24px;
  padding: 18px;
  font-size: 18px;
  font-weight: 700;
  background: #94a3b8; /* ë¹„í™œì„±í™” ìƒ‰ìƒ */
  color: #fff;
  border: none;
  border-radius: 10px;
  cursor: not-allowed; /* ê¸ˆì§€ í‘œì‹œ */
  transition: all 0.3s;
}

/* ì˜ˆë§¤ ë²„íŠ¼ í™œì„±í™” ìƒíƒœ */
.reserve-btn.enabled {
  background: #24426b;
  cursor: pointer;
}
    .reserve-btn:hover {
      background: #1e3560;
    }

    /* TABS */
    .tab-menu { display:flex; gap:24px; justify-content:center; border-bottom:1px solid #ccc; margin-bottom:16px; flex-wrap:wrap; }
    .tab-item { cursor:pointer; font-weight:700; padding:8px 12px; color:#24426b; }
    .tab-item.active { border-bottom:3px solid #24426b; }
    .tab-content { display:none; padding:12px 0; }

    /* CASTING */
    .cast-list { display:flex; flex-wrap:wrap; justify-content:center; gap:16px; }
    .cast-card, .cast-card-main { cursor:pointer; }
    .cast-card img, .cast-card-main img { border-radius:12px; width:100%; }

    /* REVIEW */
    #review-form { display:flex; flex-direction:column; gap:12px; margin-bottom:24px; max-width:600px; }
    #review-form input, #review-form textarea { padding:8px; border-radius:8px; border:1px solid #ccc; width:100%; font-size:14px; }
    #review-form button { width:150px; padding:10px; border:none; border-radius:8px; background:#24426b; color:#fff; font-weight:700; cursor:pointer; }
    .review-item { border-bottom:1px solid #e0e0e0; padding:12px 0; }
    .review-item strong { color:#24426b; }
    .review-item p { margin:4px 0 0 0; }

/* ëª¨ë°”ì¼ ìµœì í™”: í™”ë©´ ë„ˆë¹„ê°€ 768px ì´í•˜ì¼ ë•Œ ì ìš©ë©ë‹ˆë‹¤ */
    @media (max-width: 768px) {
      /* ìƒë‹¨ ì—¬ë°± ì¡°ì ˆ */
      section { padding: 40px 16px; }
      section#booking { padding-top: 80px; }

      /* ê°€ë¡œë¡œ ë‚˜ì—´ë˜ë˜ ìš”ì†Œë“¤ì„ ì„¸ë¡œë¡œ ìŒ“ê¸° */
      .booking-wrap {
        display: flex;
        flex-direction: column;
        gap: 20px;
        align-items: center;
      }

      /* í¬ìŠ¤í„° í¬ê¸° ì¡°ì ˆ */
      .poster {
        flex: 0 0 auto;
        width: 100%;
        max-width: 300px;
      }

      /* ì •ë³´ì°½ ë„ˆë¹„ ì¡°ì ˆ */
      .booking-details {
        width: 100%;
      }

      /* ì •ë³´ì™€ ë‹¬ë ¥ì„ ì„¸ë¡œë¡œ ë°°ì¹˜ */
      .info-body {
        flex-direction: column;
        gap: 20px;
      }

      .booking-info {
        flex: none;
        width: 100%;
      }

      /* ë‹¬ë ¥ ë°°ê²½ ë°•ìŠ¤ ë„ˆë¹„ ì¡°ì ˆ */
      .calendar-side {
        flex: none;
        width: auto;
        padding: 15px;
      }

      /* ì¸í„°íŒŒí¬ ëª¨ë°”ì¼ì²˜ëŸ¼ ì˜ˆë§¤ ë²„íŠ¼ì„ í™”ë©´ í•˜ë‹¨ì— ê³ ì • */
      .reserve-btn {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        border-radius: 0;
        margin-top: 0;
        z-index: 1000;
        padding: 20px;
        font-size: 18px;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      }
      
      /* ë²„íŠ¼ì— ê°€ë ¤ì§€ëŠ” ë‚´ìš©ì´ ì—†ë„ë¡ ë°”ë‹¥ ì—¬ë°± ì¶”ê°€ */
      body { padding-bottom: 80px; }

      /* íƒ­ ë©”ë‰´ê°€ ê¹¨ì§€ì§€ ì•Šê²Œ ê°„ê²© ì¡°ì ˆ */
      .tab-menu { gap: 10px; }
      .tab-item { font-size: 14px; padding: 6px; }
    }
  </style>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD8Cg9XNQa9TgIuisgodBRRwj0claMsSZs",
      authDomain: "s0629-37912.firebaseapp.com",
      projectId: "s0629-37912",
      storageBucket: "s0629-37912.firebasestorage.app",
      messagingSenderId: "114448367794",
      appId: "1:114448367794:web:9102285b8d95ced4ba09ab",
      measurementId: "G-K0D0W42RH7"
    };
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // í›„ê¸° ì €ì¥
    window.submitReview = async function(){
      const nickname = document.getElementById('review-nickname').value.trim();
      const content = document.getElementById('review-content').value.trim();
      if(!nickname||!content){alert("ë‹‰ë„¤ì„ê³¼ í›„ê¸°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");return;}
      await addDoc(collection(db,"reviews"),{nickname, content, createdAt: serverTimestamp()});
      document.getElementById('review-nickname').value='';
      document.getElementById('review-content').value='';
      loadReviews();
    }

    async function loadReviews(){
      const list = document.getElementById('review-list');
      list.innerHTML='';
      const q = query(collection(db,"reviews"), orderBy("createdAt","desc"));
      const querySnapshot = await getDocs(q);
      querySnapshot.forEach(doc=>{
        const data = doc.data();
        const div = document.createElement('div');
        div.className='review-item';
        div.innerHTML=`<strong>${data.nickname}</strong><p>${data.content}</p>`;
        list.appendChild(div);
      });
    }

    // íƒ­ ì „í™˜
    window.showTab = function(index){
      const tabs = document.querySelectorAll('.tab-item');
      const contents = document.querySelectorAll('.tab-content');
      tabs.forEach((t,i)=> t.classList.toggle('active', i===index));
      contents.forEach((c,i)=> c.style.display = i===index ? 'block' : 'none');
      if(index===5) loadReviews();
    }

    window.addEventListener('DOMContentLoaded', ()=> showTab(0));


  </script>
</head>
<body>

<header>
  <div class="logo">SCENE #0629</div>
  <nav>
ì˜¤í›„ 3:03 2026-01-11</header>

<section id="booking">
  <h2 style="max-width: 1100px; margin: 0 auto 40px auto; font-size: 32px;">ì˜ˆë§¤</h2>
  
  <div class="booking-wrap">
    <div class="poster">
      <img src="poster.jpg" alt="í¬ìŠ¤í„°">
    </div>

    <div class="booking-details">
      <div class="info-header">
        <span class="badge">ë‹¨ë…íŒë§¤</span>
        <h3>SCENE #0629</h3>
      </div>

      <div class="info-body">
        <div class="booking-info">
          <p><b>ì¥ì†Œ</b> ì¹´í˜ ì§€êµ¬ìº£</p>
          <p><b>ê¸°ê°„</b> 2026.06.27 ~ 06.29</p>
          <p><b>ê´€ëŒì‹œê°„</b> ê³µì§€ í™•ì¸</p>
          <p><b>ê´€ëŒë“±ê¸‰</b> ì „ì²´ê´€ëŒê°€</p>
        </div>

        <div class="calendar-side">
  <div class="calendar-box">
    <h4>2026.06</h4>
    <table>
      <tr><th>ì¼</th><th>ì›”</th><th>í™”</th><th>ìˆ˜</th><th>ëª©</th><th>ê¸ˆ</th><th>í† </th></tr>
      <tr><td></td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
      <tr><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>13</td></tr>
      <tr><td>14</td><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td></tr>
      <tr><td>21</td><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td class="active" onclick="selectDate(27, '11:00 - 20:00', this)">27</td>
      </tr>
      <tr>
        <td class="active" onclick="selectDate(28, '12:00 - 19:00', this)">28</td>
        <td class="active" onclick="selectDate(29, '10:00 - 19:00', this)">29</td>
        <td>30</td><td></td><td></td><td></td><td></td>
      </tr>
    </table>
  </div>

  <div id="time-selector" style="margin-top: 20px; display: none;">
    <p style="font-size: 13px; color: #666; margin-bottom: 8px; font-weight: bold;">íšŒì°¨ ì„ íƒ</p>
    <div id="time-slot" onclick="selectTime(this)" style="padding: 12px; border: 1px solid #ddd; border-radius: 4px; text-align: center; cursor: pointer; font-size: 15px; font-weight: 600; transition: all 0.2s;">
      </div>
  </div>

<button id="main-reserve-btn" class="reserve-btn" onclick="goToReservation()">ì˜ˆë§¤í•˜ê¸°</button>
</div>
 </div>
      </div>
    </div>
  </div>
</section>

<!-- TABS -->
<div id="info-tabs" style="max-width:1200px; margin:24px auto;">
  <div class="tab-menu">
    <span class="tab-item" onclick="showTab(0)">ìƒì„¸ ì •ë³´</span>
    <span class="tab-item" onclick="showTab(1)">ìºìŠ¤íŒ…</span>
    <span class="tab-item" onclick="showTab(2)">íŠ¹ì „</span>
    <span class="tab-item" onclick="showTab(3)">í˜‘ë ¥ì§„</span>
    <span class="tab-item" onclick="showTab(4)">ì˜¤ì‹œëŠ” ê¸¸</span>
    <span class="tab-item" onclick="showTab(5)">ê¸°ëŒ€í‰/í›„ê¸°</span>
  </div>

  <div class="tab-contents">
    <!-- ìƒì„¸ ì •ë³´ -->
    <div class="tab-content">
      <p>ìƒì„¸ ì •ë³´</p>
      <div style="display:flex; gap:16px; flex-wrap:wrap; margin-top:12px;">
        <img src="notice1.jpg" alt="ì‚¬ì§„1" style="width:48%; border-radius:12px;">
        <img src="notice2.jpg" alt="ì‚¬ì§„2" style="width:48%; border-radius:12px;">
      </div>
    </div>

    <!-- ìºìŠ¤íŒ… -->
    <div class="tab-content">
      <div id="casting-tab" style="text-align:center; padding:24px;">
        <!-- ì´í¬ì¤€ ì¤‘ì•™ -->
        <div class="cast-card-main" onclick="openModal('leeheejun')" style="display:inline-block; margin-bottom:24px; cursor:pointer;">
          <img src="heejoon.jpg" alt="ì´í¬ì¤€" style="width:200px; border-radius:12px;">
          <p style="margin-top:8px; font-weight:700; font-size:18px;">ì´í¬ì¤€</p>
        </div>
        <!-- í•„ëª¨ ìºë¦­í„°ë“¤ -->
        <div class="cast-list">
          <div class="cast-card" onclick="openModal('film1')" style="width:18%;"><img src="film1.jpg" alt="ì˜í™”1"><p>ì˜í™”1</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film3')" style="width:18%;"><img src="film3.jpg" alt="ì˜í™”3"><p>ì˜í™”3</p></div>
          <div class="cast-card" onclick="openModal('film4')" style="width:18%;"><img src="film4.jpg" alt="ì˜í™”4"><p>ì˜í™”4</p></div>
          <div class="cast-card" onclick="openModal('film5')" style="width:18%;"><img src="film5.jpg" alt="ì˜í™”5"><p>ì˜í™”5</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
          <div class="cast-card" onclick="openModal('film2')" style="width:18%;"><img src="film2.jpg" alt="ì˜í™”2"><p>ì˜í™”2</p></div>
        </div>
      </div>
    </div>

    <!-- íŠ¹ì „ -->
    <div class="tab-content" id="gift-tab-content">
  <div style="max-width: 1100px; margin: 0 auto; padding: 20px;">
    <h3 style="text-align: center; color: #24426b; margin-bottom: 40px; font-size: 24px; font-weight: 800; letter-spacing: 2px;">SPECIAL GIFT</h3>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
      
      <div onclick="window.showMeTheGift('ì´ë¯¸ì§€1.jpg', 'ì¢…ì´ì»µ', '13onz', 'ì´í¬ì¤€ì¢‹ì•„')" style="aspect-ratio: 1/1.4; background: #f8fafc; border-radius: 12px; overflow: hidden; cursor: pointer; border: 1px solid #eee;">
        <img src="ì´ë¯¸ì§€1.jpg" style="width:100%; height:100%; object-fit:cover;" onerror="this.parentNode.innerHTML='<div style=\'height:100%; display:flex; align-items:center; justify-content:center; color:#cbd5e1;\'>coming soon</div>'">
      </div>

      <div onclick="window.showMeTheGift('ì´ë¯¸ì§€2.jpg', 'í‹°ì¼“', 'Ií˜• í‹°ì¼“', '1ì¸ 1ë§¤ í•œì •ì…ë‹ˆë‹¤.')" style="aspect-ratio: 1/1.4; background: #f8fafc; border-radius: 12px; overflow: hidden; cursor: pointer; border: 1px solid #eee;">
        <img src="ì´ë¯¸ì§€2.jpg" style="width:100%; height:100%; object-fit:cover;" onerror="this.parentNode.innerHTML='<div style=\'height:100%; display:flex; align-items:center; justify-content:center; color:#cbd5e1;\'>coming soon</div>'">
      </div>

      <div onclick="window.showMeTheGift('ì´ë¯¸ì§€3.jpg', 'í¬í† ì¹´ë“œ', '55*85', 'ì´í¬ì¤€ë³´ê³ ì‹¶ì–´')" style="aspect-ratio: 1/1.4; background: #f8fafc; border-radius: 12px; overflow: hidden; cursor: pointer; border: 1px solid #eee;">
        <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#cbd5e1;">coming soon</div>
      </div>

      <div onclick="window.showMeTheGift('ì´ë¯¸ì§€4.jpg', 'ê¸°íƒ€í”¼í¬', 'ì‚¼ê°', 'ì¦ì •')" style="aspect-ratio: 1/1.4; background: #f8fafc; border-radius: 12px; overflow: hidden; cursor: pointer; border: 1px solid #eee;">
        <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#cbd5e1;">coming soon</div>
      </div>

      <div onclick="window.showMeTheGift('ì´ë¯¸ì§€5.jpg', 'íŒœí”Œë ›', 'A5', '1ì„¸íŠ¸')" style="aspect-ratio: 1/1.4; background: #f8fafc; border-radius: 12px; overflow: hidden; cursor: pointer; border: 1px solid #eee;">
        <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#cbd5e1;">coming soon</div>
      </div>

      <div onclick="window.showMeTheGift('ì´ë¯¸ì§€6.jpg', 'ì—½ì„œ', 'ì—½ì„œì‚¬ì´ì¦ˆ', '2ë§¤')" style="aspect-ratio: 1/1.4; background: #f8fafc; border-radius: 12px; overflow: hidden; cursor: pointer; border: 1px solid #eee;">
        <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#cbd5e1;">coming soon</div>
      </div>

      <div onclick="window.showMeTheGift('ì´ë¯¸ì§€7.jpg', 'ë ë¶€ì”°', 'ë¹µ', '1ë§¤')" style="aspect-ratio: 1/1.4; background: #f8fafc; border-radius: 12px; overflow: hidden; cursor: pointer; border: 1px solid #eee;">
        <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#cbd5e1;">coming soon</div>
      </div>

      <div onclick="window.showMeTheGift('ì´ë¯¸ì§€8.jpg', 'ê³ ë¯¼ì¤‘', 'ì´í¬ì¤€', 'ì•„ëŒë ')" style="aspect-ratio: 1/1.4; background: #f8fafc; border-radius: 12px; overflow: hidden; cursor: pointer; border: 1px solid #eee;">
        <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#cbd5e1;">coming soon</div>
      </div>
    </div> </div> </div> <div id="GIFT_MODAL_BOX" onclick="this.style.display='none'" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); justify-content:center; align-items:center; z-index:99999; padding:20px;">
  <div style="background:#fff; border-radius:20px; max-width:850px; width:95%; display:flex; overflow:hidden; position:relative; flex-wrap: wrap;" onclick="event.stopPropagation();">
    
    <div style="flex: 1.2; min-width: 300px; background: #000; display: flex; align-items: center; justify-content: center;">
      <img id="GIFT_IMG" src="" style="width:100%; max-height:70vh; object-fit: contain;">
    </div>

    <div style="flex: 1; min-width: 300px; padding: 40px 30px; background: #fff; display: flex; flex-direction: column; justify-content: center;">
      <h4 id="GIFT_NAME" style="margin:0; font-size:26px; color:#24426b; font-weight: 800;">ì œëª©</h4>
      <div style="width: 40px; height: 4px; background: #24426b; margin: 20px 0;"></div>
      
      <p style="font-size: 12px; color: #aaa; font-weight: bold; margin-bottom: 5px;">SPECIFICATION</p>
      <p id="GIFT_SIZE" style="font-size: 17px; color: #333; margin-bottom: 25px;">ì‚¬ì´ì¦ˆ</p>
      
      <p style="font-size: 12px; color: #aaa; font-weight: bold; margin-bottom: 5px;">NOTICE</p>
      <p id="GIFT_NOTICE" style="font-size: 15px; color: #666; line-height: 1.6;">ê³µì§€ì‚¬í•­</p>

      <button onclick="document.getElementById('GIFT_MODAL_BOX').style.display='none'" style="position:absolute; top:20px; right:20px; background:none; border:none; font-size:30px; cursor:pointer;">&times;</button>
    </div>
  </div>
</div>

    <!-- í˜‘ë ¥ì§„ -->
    <div class="tab-content">
  <div style="max-width: 1100px; margin: 0 auto; padding: 20px;">
    <h3 style="text-align: center; color: #24426b; margin-bottom: 40px; font-size: 24px; letter-spacing: 2px; font-weight: 800;">COOPERATION</h3>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
    <div style="background: #fff; border: 1px solid #eee; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); cursor: pointer;" 
     onclick="openImgModal('ì‘ì—…ë¬¼_ì´ë¯¸ì§€_ê²½ë¡œ.jpg')">
  
  <div style="width: 100%; height: 160px; background: #f8fafc; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid #f1f5f9; color: #cbd5e1; font-size: 13px;">
    ì‘ì—…ë¬¼ í´ë¦­ ì‹œ í™•ëŒ€
  </div>

  <div style="padding: 15px; display: flex; align-items: center; justify-content: space-between;" onclick="event.stopPropagation();">
    
    <div style="display: flex; align-items: center; gap: 12px;">
      <div style="width: 48px; height: 48px; border-radius: 50%; overflow: hidden; background: #e2e8f0; border: 1px solid #f1f5f9; flex-shrink: 0;">
        <img src="staff1.jpg" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.style.display='none'">
      </div>
      
      <div>
        <div style="font-size: 11px; color: #24426b; font-weight: bold; text-transform: uppercase; margin-bottom: 2px;">Main Design</div>
        <div style="font-size: 15px; font-weight: 800; color: #333; line-height: 1.2;">ì‚¼ì´</div>
        <div style="font-size: 12px; color: #94a3b8;">@three3ee2</div>
      </div>
    </div>

    <a href="https://x.com/three3ee2" target="_blank" 
       onclick="event.stopPropagation();" 
       style="padding: 7px 14px; background: #24426b; color: #fff; font-size: 11px; border-radius: 6px; font-weight: bold; text-decoration: none; transition: 0.2s;">
       Visit
    </a>

  </div>
</div>

      <div style="background: #fff; border: 1px solid #eee; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); cursor: pointer;" 
     onclick="openImgModal('ì‘ì—…ë¬¼_ì´ë¯¸ì§€_ê²½ë¡œ.jpg')">
  
  <div style="width: 100%; height: 160px; background: #f8fafc; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid #f1f5f9; color: #cbd5e1; font-size: 13px;">
    ì‘ì—…ë¬¼ í´ë¦­ ì‹œ í™•ëŒ€
  </div>

  <div style="padding: 15px; display: flex; align-items: center; justify-content: space-between;" onclick="event.stopPropagation();">
    
    <div style="display: flex; align-items: center; gap: 12px;">
      <div style="width: 48px; height: 48px; border-radius: 50%; overflow: hidden; background: #e2e8f0; border: 1px solid #f1f5f9; flex-shrink: 0;">
        <img src="staff2.jpg" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.style.display='none'">
      </div>
      
      <div>
        <div style="font-size: 11px; color: #24426b; font-weight: bold; text-transform: uppercase; margin-bottom: 2px;">Main Design</div>
        <div style="font-size: 15px; font-weight: 800; color: #333; line-height: 1.2;">ë“œë£»ì†Œ</div>
        <div style="font-size: 12px; color: #94a3b8;">@dorama_deul</div>
      </div>
    </div>

    <a href="https://twitter.com/@dorama_deul" target="_blank" 
       onclick="event.stopPropagation();" 
       style="padding: 7px 14px; background: #24426b; color: #fff; font-size: 11px; border-radius: 6px; font-weight: bold; text-decoration: none; transition: 0.2s;">
       Visit
    </a>

  </div>
</div>

      <div style="background: #fff; border: 1px solid #eee; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); cursor: pointer;" 
     onclick="openImgModal('ì‘ì—…ë¬¼_ì´ë¯¸ì§€_ê²½ë¡œ.jpg')">
  
  <div style="width: 100%; height: 160px; background: #f8fafc; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid #f1f5f9; color: #cbd5e1; font-size: 13px;">
    ì‘ì—…ë¬¼ í´ë¦­ ì‹œ í™•ëŒ€
  </div>

  <div style="padding: 15px; display: flex; align-items: center; justify-content: space-between;" onclick="event.stopPropagation();">
    
    <div style="display: flex; align-items: center; gap: 12px;">
      <div style="width: 48px; height: 48px; border-radius: 50%; overflow: hidden; background: #e2e8f0; border: 1px solid #f1f5f9; flex-shrink: 0;">
        <img src="staff3.jpg" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.style.display='none'">
      </div>
      
      <div>
        <div style="font-size: 11px; color: #24426b; font-weight: bold; text-transform: uppercase; margin-bottom: 2px;">Photo</div>
        <div style="font-size: 15px; font-weight: 800; color: #333; line-height: 1.2;">ì´ì–´íœ´</div>
        <div style="font-size: 12px; color: #94a3b8;">@I80808_W</div>
      </div>
    </div>

    <a href="https://twitter.com/@I80808_W" target="_blank" 
       onclick="event.stopPropagation();" 
       style="padding: 7px 14px; background: #24426b; color: #fff; font-size: 11px; border-radius: 6px; font-weight: bold; text-decoration: none; transition: 0.2s;">
       Visit
    </a>

  </div>
</div>

      <div style="background: #fff; border: 1px solid #eee; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); cursor: pointer;" 
     onclick="openImgModal('ì‘ì—…ë¬¼_ì´ë¯¸ì§€_ê²½ë¡œ.jpg')">
  
  <div style="width: 100%; height: 160px; background: #f8fafc; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid #f1f5f9; color: #cbd5e1; font-size: 13px;">
    ì‘ì—…ë¬¼ í´ë¦­ ì‹œ í™•ëŒ€
  </div>

  <div style="padding: 15px; display: flex; align-items: center; justify-content: space-between;" onclick="event.stopPropagation();">
    
    <div style="display: flex; align-items: center; gap: 12px;">
      <div style="width: 48px; height: 48px; border-radius: 50%; overflow: hidden; background: #e2e8f0; border: 1px solid #f1f5f9; flex-shrink: 0;">
        <img src="staff4.jpg" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.style.display='none'">
      </div>
      
      <div>
        <div style="font-size: 11px; color: #24426b; font-weight: bold; text-transform: uppercase; margin-bottom: 2px;">Photo</div>
        <div style="font-size: 15px; font-weight: 800; color: #333; line-height: 1.2;">ê°œì¥</div>
        <div style="font-size: 12px; color: #94a3b8;">@221_whitelab</div>
      </div>
    </div>

    <a href="https://twitter.com/@221_whitelab" target="_blank" 
       onclick="event.stopPropagation();" 
       style="padding: 7px 14px; background: #24426b; color: #fff; font-size: 11px; border-radius: 6px; font-weight: bold; text-decoration: none; transition: 0.2s;">
       Visit
    </a>

  </div>
</div>

<div id="img-modal" onclick="this.style.display='none'" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); justify-content:center; align-items:center; z-index:2000; cursor:zoom-out;">
  <img id="modal-full-img" src="" style="max-width:90%; max-height:90%; border-radius:8px; box-shadow:0 0 20px rgba(0,0,0,0.5);">
  <p style="position:absolute; bottom:20px; color:#fff; font-size:14px;">í™”ë©´ì„ í´ë¦­í•˜ë©´ ë‹«í™ë‹ˆë‹¤.</p>
</div>


    </div>
  </div>
</div>

    <!-- ì˜¤ì‹œëŠ” ê¸¸ -->
   <div class="tab-content" style="display: none;">
  <div class="map-container" style="max-width:800px; margin:0 auto; padding:20px;">
    
    <div style="width:100%; height:400px; border-radius:12px; overflow:hidden; border:1px solid #eee; margin-bottom:20px; position:relative;">
      <iframe 
        src="https://map.naver.com/v5/search/%EC%B9%B4%ED%8E%98%20%EC%A7%80%EA%B5%AC%EC%BA%A3/place/1557929841?c=15,0,0,0,dh" 
        width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy">
      </iframe>
      <div style="position:absolute; bottom:10px; left:10px; background:rgba(255,255,255,0.8); padding:5px 10px; border-radius:5px; font-size:12px;">
        <a href="https://naver.me/G87pW9fS" target="_blank" style="text-decoration:none; color:#03C75A; font-weight:bold;">
          ğŸ“ ë„¤ì´ë²„ ì§€ë„ë¡œ í¬ê²Œ ë³´ê¸°
        </a>
      </div>
    </div>

    <div class="address-info">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <h3 style="font-size:22px; color:#24426b; margin:0;">ì¹´í˜ ì§€êµ¬ìº£</h3>
        <a href="https://map.kakao.com/link/to/ì¹´í˜ ì§€êµ¬ìº£,37.5803593,127.0042622" target="_blank" 
           style="background:#fee500; color:#3c1e1e; padding:10px 18px; border-radius:8px; font-size:14px; font-weight:bold; text-decoration:none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
           ì¹´ì¹´ì˜¤ë§µ ê¸¸ì°¾ê¸°
        </a>
      </div>
      <p style="color:#666; margin-bottom:20px;">ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ë™ìˆ­ê¸¸ 47 (ë™ìˆ­ë™ 1-149)</p>
      
      <div style="background:#f8f9fa; padding:20px; border-radius:10px; line-height:1.6;">
        <p style="margin:5px 0;">ğŸš‡ <b>ì§€í•˜ì² :</b> 4í˜¸ì„  <b>í˜œí™”ì—­ 2ë²ˆ ì¶œêµ¬</b>ì—ì„œ ë‚™ì‚°ê³µì› ë°©í–¥ìœ¼ë¡œ ì•½ 291m (ë„ë³´ 5ë¶„)</p>
        <p style="margin:5px 0;">ğŸšŒ <b>ë²„ìŠ¤:</b> í˜œí™”ì—­.ë§ˆë¡œë‹ˆì—ê³µì› ì •ë¥˜ì¥ í•˜ì°¨ í›„ ë‚™ì‚°ê³µì› ë°©ë©´ìœ¼ë¡œ ì´ë™</p>
        <p style="margin:15px 0 0 0; color:#e53e3e; font-size:14px; font-weight:bold;">âš ï¸ ì£¼ë³€ êµí†µì´ í˜¼ì¡í•˜ê³  ì£¼ì°¨ê³µê°„ì´ ë¶€ì¡±í•˜ë¯€ë¡œ ëŒ€ì¤‘êµí†µ ì´ìš©ì„ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
      </div>
    </div>
  </div>
</div>

    <!-- í›„ê¸° -->
    <div class="tab-content" style="display: none;">
  <div class="review-container" style="max-width: 700px; margin: 0 auto; padding: 20px;">
    
    <div id="review-form" style="display: flex; flex-direction: column; gap: 15px; align-items: center; background: #f8f9fa; padding: 30px; border-radius: 15px; margin-bottom: 40px;">
  <h3 style="margin-top:0;">ê¸°ëŒ€í‰ ë‚¨ê¸°ê¸°</h3>
  <input type="text" id="review-name" placeholder="ë‹‰ë„¤ì„" style="width: 100%; max-width: 400px; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
  <input type="password" id="review-pw" placeholder="ì‚­ì œ ë¹„ë°€ë²ˆí˜¸ (4ìë¦¬ ìˆ«ì)" maxlength="4" style="width: 100%; max-width: 400px; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
  <textarea id="review-text" placeholder="ë°°ìš°ë‹˜ê»˜ ì‘ì›ì˜ í•œë§ˆë””ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!" rows="4" style="width: 100%; max-width: 400px; padding: 12px; border: 1px solid #ddd; border-radius: 8px; resize: none;"></textarea>
  <button onclick="submitReview()" style="width: 100%; max-width: 400px; padding: 15px; background: #24426b; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">ë“±ë¡í•˜ê¸°</button>
</div>

    <div id="review-list" style="display: flex; flex-direction: column; gap: 15px;">
      <p style="text-align:center; color:#888;">í›„ê¸°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
    </div>
  </div>
</div>

<!-- MODAL -->
<div id="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:1000;">
  <div style="background:#fff; padding:24px; border-radius:12px; max-width:500px; width:90%; position:relative;">
    <button onclick="closeModal()" style="position:absolute; top:8px; right:8px; border:none; background:none; font-size:18px; cursor:pointer;">âœ–</button>
    <h3 id="modal-name"></h3>
    <table id="modal-table" style="width:100%; margin-top:12px; border-collapse:collapse;"><tbody></tbody></table>
  </div>
</div>

<script type="module">
  // 1. í•„ìš”í•œ ê¸°ëŠ¥ë“¤ í•œêº¼ë²ˆì— ë¶ˆëŸ¬ì˜¤ê¸°
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, serverTimestamp, deleteDoc, doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBTfvgS5TyZ2GYIaVLgYNRG3pHTQB7PDUo",
    authDomain: "cafe-51cc4.firebaseapp.com",
    projectId: "cafe-51cc4",
    storageBucket: "cafe-51cc4.firebasestorage.app",
    messagingSenderId: "802971772712",
    appId: "1:802971772712:web:c2073abb08afe4a12ed21d"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  let editId = null; 

let isDateSelected = false;
let isTimeSelected = false;

// ë‚ ì§œ ì„ íƒ í•¨ìˆ˜
window.selectDate = function(day, time, element) {
  // ëª¨ë“  ë‚ ì§œ ìƒ‰ìƒ ì´ˆê¸°í™”
  const allActiveDays = document.querySelectorAll('.calendar-box td.active');
  allActiveDays.forEach(td => td.classList.remove('selected-day'));
  
  // í´ë¦­í•œ ë‚ ì§œ ì§„í•˜ê²Œ ë³€ê²½
  element.classList.add('selected-day');
  isDateSelected = true;

  // ì‹œê°„ ì„¹ì…˜ í‘œì‹œ ë° ì´ˆê¸°í™”
  const timeSelector = document.getElementById('time-selector');
  const timeSlot = document.getElementById('time-slot');
  timeSelector.style.display = 'block';
  timeSlot.textContent = time;
  
  // ì‹œê°„ ì„ íƒ ìƒíƒœ ì´ˆê¸°í™”
  isTimeSelected = false;
  timeSlot.style.background = "#fff";
  timeSlot.style.color = "#000";
  timeSlot.style.borderColor = "#ddd";
  
  checkValidation(); // ë²„íŠ¼ ìƒíƒœ ì²´í¬
};

// ì‹œê°„ ì„ íƒ í•¨ìˆ˜
window.selectTime = function(element) {
  if (!isDateSelected) return;

  isTimeSelected = true;
  element.style.background = "#24426b";
  element.style.color = "#fff";
  element.style.borderColor = "#24426b";
  
  checkValidation(); // ë²„íŠ¼ ìƒíƒœ ì²´í¬
};

// ëª¨ë“  ì¡°ê±´ì´ ì¶©ì¡±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
function checkValidation() {
  const btn = document.getElementById('main-reserve-btn');
  if (isDateSelected && isTimeSelected) {
    btn.classList.add('enabled');
    btn.style.background = "#24426b"; // ê°•ì œë¡œ ìƒ‰ìƒ ë³€ê²½ í™•ì¸
    btn.style.cursor = "pointer";
  } else {
    btn.classList.remove('enabled');
    btn.style.background = "#94a3b8";
    btn.style.cursor = "not-allowed";
  }
}

// ì˜ˆë§¤ ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë™ ì œì–´
window.goToReservation = function() {
  if (isDateSelected && isTimeSelected) {
    window.location.href = "seat.html"; // ì¡°ê±´ ë§Œì¡± ì‹œ ì´ë™
  } else {
    alert("ë‚ ì§œì™€ ì‹œê°„ì„ ëª¨ë‘ ì„ íƒí•´ ì£¼ì„¸ìš”!");
  }
};

  // --- [í›„ê¸° ë“±ë¡ ë° ìˆ˜ì • ì™„ë£Œ] ---
  window.submitReview = async function() {
    const nameInput = document.getElementById('review-name');
    const pwInput = document.getElementById('review-pw');
    const textInput = document.getElementById('review-text');
    const submitBtn = document.querySelector('#review-form button');

    if (!nameInput.value.trim() || !textInput.value.trim()) {
      alert("ë‹‰ë„¤ì„ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”!");
      return;
    }

    try {
      if (editId) {
        // ìˆ˜ì • ëª¨ë“œ
        await updateDoc(doc(db, "reviews", editId), {
          name: nameInput.value,
          text: textInput.value,
          timestamp: serverTimestamp()
        });
        alert("ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!");
        editId = null;
        submitBtn.textContent = "ë“±ë¡í•˜ê¸°";
        pwInput.disabled = false;
        pwInput.placeholder = "ì‚­ì œ ë¹„ë°€ë²ˆí˜¸ (4ìë¦¬ ìˆ«ì)";
      } else {
        // ìƒˆ ê¸€ ë“±ë¡ ëª¨ë“œ
        if (!pwInput.value.trim()) { alert("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!"); return; }
        await addDoc(collection(db, "reviews"), {
          name: nameInput.value,
          password: pwInput.value,
          text: textInput.value,
          timestamp: serverTimestamp()
        });
        alert("ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!");
      }
      nameInput.value = ""; pwInput.value = ""; textInput.value = "";
    } catch (e) { 
      console.error(e);
      alert("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."); 
    }
  };

  // --- [í›„ê¸° ìˆ˜ì • ëª¨ë“œ ì§„ì…] ---
  window.editReview = function(id, name, text, correctPw) {
    const inputPw = prompt("ìˆ˜ì •í•˜ë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
    const masterPw = "0629!!"; 

    if (inputPw === String(correctPw) || inputPw === masterPw) {
      document.getElementById('review-name').value = name;
      document.getElementById('review-text').value = text;
      document.getElementById('review-pw').value = "";
      document.getElementById('review-pw').placeholder = "ìˆ˜ì • ì‹œ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ë¶ˆê°€";
      document.getElementById('review-pw').disabled = true;
      
      editId = id; 
      document.querySelector('#review-form button').textContent = "ìˆ˜ì •ì™„ë£Œ";
      document.getElementById('review-form').scrollIntoView({ behavior: 'smooth' });
    } else if (inputPw !== null) {
      alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
    }
  };

  // --- [í›„ê¸° ì‚­ì œ] ---
  window.deleteReview = async function(id, correctPw) {
    const inputPw = prompt("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
    const masterPw = "0629!!";
    if (inputPw === String(correctPw) || inputPw === masterPw) {
      if (confirm("ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
        await deleteDoc(doc(db, "reviews", id));
        alert("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
      }
    } else if (inputPw !== null) {
      alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
    }
  };

  // --- [ì‹¤ì‹œê°„ ëª©ë¡ ì¶œë ¥] ---
  const q = query(collection(db, "reviews"), orderBy("timestamp", "desc"));
  onSnapshot(q, (snapshot) => {
    const list = document.getElementById('review-list');
    if(!list) return;
    list.innerHTML = "";
    snapshot.forEach((reviewDoc) => {
      const data = reviewDoc.data();
      const id = reviewDoc.id;
      const date = data.timestamp ? new Date(data.timestamp.seconds * 1000).toLocaleString('ko-KR', { month:'short', day:'numeric', hour:'2-digit', minute:'2-digit' }) : "ë°©ê¸ˆ ì „";

      const item = document.createElement('div');
      item.style = "background:white; padding:20px; border-radius:12px; border:1px solid #eee; margin-bottom:15px; position:relative; box-shadow: 0 2px 8px rgba(0,0,0,0.05); text-align:left;";
      item.innerHTML = `
        <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
          <strong style="color:#24426b;">${data.name}</strong>
          <span style="font-size:12px; color:#999;">${date}</span>
        </div>
        <p style="margin:0; font-size:15px; line-height:1.5; color:#333;">${data.text}</p>
        <div style="position:absolute; top:15px; right:15px; display:flex; gap:10px;">
          <button onclick="editReview('${id}', '${data.name}', '${data.text.replace(/\n/g, ' ')}', '${data.password}')" style="background:none; border:none; color:#24426b; cursor:pointer; font-size:12px;">ìˆ˜ì •</button>
          <button onclick="deleteReview('${id}', '${data.password}')" style="background:none; border:none; color:#ccc; cursor:pointer; font-size:12px;">ì‚­ì œ</button>
        </div>
      `;
      list.appendChild(item);
    });
  });

// --- [íŠ¹ì „ëª¨ë‹¬] ---
window.showMeTheGift = function(img, name, size, notice) {
    document.getElementById('GIFT_IMG').src = img;
    document.getElementById('GIFT_NAME').innerText = name;
    document.getElementById('GIFT_SIZE').innerText = "ì‚¬ì´ì¦ˆ: " + size;
    document.getElementById('GIFT_NOTICE').innerText = notice;
    document.getElementById('GIFT_MODAL_BOX').style.display = 'flex';
};

    // ëª¨ë‹¬ ìºë¦­í„° ì •ë³´
window.openModal = function(id) {
  const modal = document.getElementById('modal');
  const nameElem = document.getElementById('modal-name');
  const tableBody = document.getElementById('modal-table').querySelector('tbody');
  const char = characters[id];
  
  if (!char) return;

  // 1. ì´ë¦„ ê¸€ì ë„£ê¸° ë° ì¤‘ì•™ ì •ë ¬
  nameElem.textContent = char.name;
  nameElem.style.textAlign = 'center';
  nameElem.style.display = 'block';
  nameElem.style.width = '100%';
  nameElem.style.margin = '0 auto';

  // 2. í…Œì´ë¸” ë¹„ìš°ê¸°
  tableBody.innerHTML = '';

  // 3. ë‚´ìš© ì±„ìš°ê¸°
  char.info.forEach(item => {
    const tr = document.createElement('tr');
    let finalValue = item.value;

    if (finalValue.includes('[') && finalValue.includes(']')) {
      const parts = finalValue.split(']');
      const category = parts[0].replace('[', '').trim();
      const title = parts[1];

      // [1] ì¢…ë¥˜ë³„ ìƒ‰ìƒ ì„¤ì •
      let boxColor = '#6c757d'; // ê¸°ë³¸ìƒ‰(ê¸°íƒ€)
      if (category === 'ë“œë¼ë§ˆ') boxColor = '#5b80b3';
      else if (category === 'ì˜í™”') boxColor = '#d66d6d';
      else if (category === 'ì—°ê·¹') boxColor = '#b59d5b';
      else if (category === 'ë®¤ì§€ì»¬') boxColor = '#9d81ba';

      finalValue = `
        <div style="display: flex; align-items: center; gap: 8px;">
          <span style="display: inline-block; background: ${boxColor}; color: #fff; font-size: 11px; font-weight: 800; padding: 2px 8px; border-radius: 4px; white-space: nowrap;">
            ${category}
          </span>
          <span>${title}</span>
        </div>
      `;
    }

    tr.innerHTML = `
      <td style="font-weight:700; padding:10px 8px; width:40%; text-align:center; color:#888;">${item.label}</td>
      <td style="padding:10px 8px; text-align:left;">${finalValue}</td>
    `;
    tableBody.appendChild(tr);
  });
  
  modal.style.display = 'flex';
}

    const characters = {
      leeheejun: { name:"ì´í¬ì¤€", info:[ {label:"ìƒë…„ì›”ì¼",value:"1979-06-29(ë§Œ 46ì„¸)"}, {label:"ì†Œì†ì‚¬", value:"BHì—”í„°í…Œì¸ë¨¼íŠ¸"}, {label:"ì „í™”ë²ˆí˜¸", value:"010-xxxx-xxxx"}, {label:"íŠ¹ì§•", value:"ì„¹ì‹œí•¨"} ] },
      film1: { name:"ì²œì¬ìš©", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] ë„ì¿¨ì§¸ êµ´ëŸ¬ì˜¨ ë‹¹ì‹ "}, {label:"ìƒë…„ì›”ì¼", value:"1980-01-01"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film3: { name:"ìµœëŒ€ì‹", info:[ {label:"ì‘í’ˆ", value:"[ì˜í™”] ë¯¸ì˜¥"}, {label:"ìƒë…„ì›”ì¼", value:"1985-07-07"} ] },
      film4: { name:"ê³½ìƒì²œ", info:[ {label:"ì‘í’ˆ", value:"[ì—°ê·¹] ë‚¨ì‚°ì˜ ë¶€ì¥ë“¤"}, {label:"ìƒë…„ì›”ì¼", value:"1990-11-23"} ] },
      film5: { name:"ë¬´ì •í•œ", info:[ {label:"ì‘í’ˆ", value:"[ë®¤ì§€ì»¬] ì§ì¥ì˜ ì‹ "}, {label:"ìƒë…„ì›”ì¼", value:"1992-05-15"} ] },
      film6: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
      film2: { name:"ì´ì¤‘ì—½", info:[ {label:"ì‘í’ˆ", value:"[ë“œë¼ë§ˆ] í‚¤ë§ˆì´ë¼"}, {label:"ìƒë…„ì›”ì¼", value:"1982-03-12"} ] },
};

    window.closeModal = function(){ document.getElementById('modal').style.display='none'; }

  // --- [ê¸°íƒ€ ê¸°ëŠ¥ í†µí•©] ---
  window.showTab = function(index) {
    const tabs = document.querySelectorAll('.tab-item');
    const contents = document.querySelectorAll('.tab-content');
    tabs.forEach((t, i) => t.classList.toggle('active', i === index));
    contents.forEach((c, i) => c.style.display = i === index ? 'block' : 'none');
  };

  document.addEventListener("DOMContentLoaded", () => showTab(0));

// ì´ë¯¸ì§€ í™•ëŒ€ ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜
  window.openImgModal = function(imgSrc) {
    const modal = document.getElementById('img-modal');
    const modalImg = document.getElementById('modal-full-img');
    
    if (imgSrc && imgSrc !== '' && !imgSrc.includes('ì£¼ì†Œ')) {
      modalImg.src = imgSrc;
      modal.style.display = 'flex';
    } else {
      alert("ì•„ì§ ë“±ë¡ëœ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤!");
    }
  };
</script>

</body>
</html>  
